{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _ProgressBar = require('./ProgressBar');\n\nvar _ProgressBar2 = _interopRequireDefault(_ProgressBar);\n\nvar _Icon = require('./Icon');\n\nvar _Icon2 = _interopRequireDefault(_Icon);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass);\n} //  eslint-disable-line no-unused-vars\n\n\nvar ToastrBox = function (_React$Component) {\n  _inherits(ToastrBox, _React$Component);\n\n  function ToastrBox(props) {\n    _classCallCheck(this, ToastrBox);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _this.handlePressEnterOrSpaceKeyToastr = function (e) {\n      if (e.key === ' ' || e.key === 'enter') {\n        _this.handleClickToastr(e);\n      }\n    };\n\n    _this.handleClickToastr = function () {\n      var _this$props$item$opti = _this.props.item.options,\n          onToastrClick = _this$props$item$opti.onToastrClick,\n          closeOnToastrClick = _this$props$item$opti.closeOnToastrClick;\n      _this.ignoreIsHiding = true;\n\n      if (onToastrClick) {\n        onToastrClick();\n      }\n\n      if (closeOnToastrClick) {\n        _this._setShouldClose(true);\n\n        _this._removeToastr();\n      }\n    };\n\n    _this.handleClickCloseButton = function (e) {\n      var onCloseButtonClick = _this.props.item.options.onCloseButtonClick;\n      e.stopPropagation();\n      _this.ignoreIsHiding = true;\n\n      if (onCloseButtonClick) {\n        onCloseButtonClick();\n      }\n\n      _this._setShouldClose(true);\n\n      _this._removeToastr();\n    };\n\n    _this.mouseEnter = function () {\n      clearTimeout(_this.intervalId);\n\n      _this._setIntervalId(null);\n\n      _this._setIsHiding(false);\n\n      var progressBar = _this.props.item.options.progressBar;\n\n      var timeOut = _this._getItemTimeOut();\n\n      if (timeOut && progressBar) {\n        _this.setState({\n          progressBar: null\n        });\n      }\n    };\n\n    _this.mouseLeave = function () {\n      var _this$props$item$opti2 = _this.props.item.options,\n          removeOnHover = _this$props$item$opti2.removeOnHover,\n          removeOnHoverTimeOut = _this$props$item$opti2.removeOnHoverTimeOut;\n\n      if (!_this.isHiding && (removeOnHover || _this.shouldClose)) {\n        var interval = removeOnHover === true ? removeOnHoverTimeOut || 1000 : removeOnHover;\n\n        _this._setIntervalId(setTimeout(_this._removeToastr, interval));\n\n        var progressBar = _this.props.item.options.progressBar;\n\n        var timeOut = _this._getItemTimeOut();\n\n        if (timeOut && progressBar) {\n          _this.setState({\n            progressBar: {\n              duration: interval\n            }\n          });\n        }\n      }\n    };\n\n    var _props$item$options = props.item.options,\n        transitionIn = _props$item$options.transitionIn,\n        transitionOut = _props$item$options.transitionOut;\n    _this.isHiding = false;\n    _this.shouldClose = false;\n    _this.intervalId = null;\n    _this.ignoreIsHiding = false;\n    _this.transitionIn = transitionIn || _this.props.transitionIn;\n    _this.transitionOut = transitionOut || _this.props.transitionOut;\n    _this.state = {\n      progressBar: null\n    };\n    (0, _utils._bind)(['renderSubComponent', 'renderIcon', 'renderToastr', 'renderCloseButton', 'renderMessage', '_onAnimationComplete', '_removeToastr', '_setTransition', '_clearTransition', '_setIntervalId', '_setIsHiding', '_setShouldClose'], _this);\n    return _this;\n  }\n\n  ToastrBox.prototype.componentDidMount = function componentDidMount() {\n    var item = this.props.item;\n    if (this.props.inMemory[item.id]) return;\n\n    var timeOut = this._getItemTimeOut();\n\n    if (timeOut) {\n      this._setIntervalId(setTimeout(this._removeToastr, timeOut));\n    }\n\n    if (timeOut && item.options.progressBar) {\n      this.setState({\n        progressBar: {\n          duration: this._getItemTimeOut()\n        }\n      });\n    }\n\n    this._setTransition();\n\n    (0, _utils.onCSSTransitionEnd)(this.toastrBoxElement, this._onAnimationComplete);\n    this.props.addToMemory(item.id);\n  };\n\n  ToastrBox.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.intervalId) {\n      clearTimeout(this.intervalId);\n    }\n  };\n\n  ToastrBox.prototype.handlePressEnterOrSpaceKeyCloseButton = function handlePressEnterOrSpaceKeyCloseButton(e) {\n    if (e.key === ' ' || e.key === 'enter') {\n      this.handleClickCloseButton(e);\n    }\n  };\n\n  ToastrBox.prototype.renderSubComponent = function renderSubComponent() {\n    var _this2 = this;\n\n    var _props$item = this.props.item,\n        id = _props$item.id,\n        options = _props$item.options;\n\n    var removeCurrentToastrFunc = function removeCurrentToastrFunc() {\n      return _this2.props.remove(id);\n    };\n\n    if ((0, _react.isValidElement)(options.component)) {\n      return _react2.default.cloneElement(options.component, {\n        remove: removeCurrentToastrFunc\n      });\n    }\n\n    return _react2.default.createElement(options.component, {\n      remove: removeCurrentToastrFunc\n    });\n  };\n\n  ToastrBox.prototype.renderIcon = function renderIcon() {\n    var _props$item2 = this.props.item,\n        type = _props$item2.type,\n        options = _props$item2.options;\n\n    if ((0, _react.isValidElement)(options.icon)) {\n      return _react2.default.cloneElement(options.icon);\n    }\n\n    var iconName = type === 'light' ? options.icon : type;\n    return _react2.default.createElement(_Icon2.default, {\n      name: iconName\n    });\n  };\n\n  ToastrBox.prototype.renderCloseButton = function renderCloseButton() {\n    return _react2.default.createElement('button', {\n      type: 'button',\n      className: 'close-toastr',\n      onClick: this.handleClickCloseButton\n    }, '\\u2715');\n  };\n\n  ToastrBox.prototype.renderToastr = function renderToastr() {\n    var _props$item3 = this.props.item,\n        type = _props$item3.type,\n        options = _props$item3.options,\n        message = _props$item3.message,\n        title = _props$item3.title;\n    return _react2.default.createElement('div', null, _react2.default.createElement('div', {\n      className: 'rrt-left-container'\n    }, _react2.default.createElement('div', {\n      className: 'rrt-holder'\n    }, this.renderIcon())), options.status && type === 'light' && _react2.default.createElement('div', {\n      className: (0, _classnames2.default)('toastr-status', options.status)\n    }), _react2.default.createElement('div', {\n      className: 'rrt-middle-container'\n    }, title && _react2.default.createElement('div', {\n      className: 'rrt-title'\n    }, title), message && _react2.default.createElement('div', {\n      className: 'rrt-text'\n    }, message), options.component && this.renderSubComponent()), _react2.default.createElement('div', {\n      className: 'rrt-right-container'\n    }, options.showCloseButton && this.renderCloseButton()), this.state.progressBar ? _react2.default.createElement(_ProgressBar2.default, this.state.progressBar) : null);\n  };\n\n  ToastrBox.prototype.renderMessage = function renderMessage() {\n    var _props$item4 = this.props.item,\n        title = _props$item4.title,\n        message = _props$item4.message,\n        options = _props$item4.options;\n    return _react2.default.createElement('div', null, _react2.default.createElement('div', {\n      className: 'rrt-title'\n    }, title, this.renderCloseButton()), _react2.default.createElement('div', {\n      className: 'rrt-text'\n    }, message, options.component && this.renderSubComponent()));\n  };\n\n  ToastrBox.prototype.toastr = function toastr() {\n    if (this.props.item.type === 'message') {\n      return this.renderMessage();\n    }\n\n    return this.renderToastr();\n  };\n\n  ToastrBox.prototype._getItemTimeOut = function _getItemTimeOut() {\n    var item = this.props.item;\n    var timeOut = item.options.timeOut;\n\n    if (typeof timeOut === 'undefined') {\n      timeOut = this.props.timeOut;\n    }\n\n    return timeOut;\n  };\n\n  ToastrBox.prototype._onAnimationComplete = function _onAnimationComplete() {\n    var _props = this.props,\n        remove = _props.remove,\n        item = _props.item;\n    var options = item.options,\n        id = item.id;\n\n    if (this.isHiding || this.ignoreIsHiding) {\n      this._setIsHiding(false);\n\n      this.ignoreIsHiding = false;\n      remove(id);\n\n      if (options.onHideComplete) {\n        options.onHideComplete();\n      }\n    } else if (!this.isHiding && options.onShowComplete) {\n      options.onShowComplete();\n    }\n  };\n\n  ToastrBox.prototype._removeToastr = function _removeToastr() {\n    if (!this.isHiding) {\n      this._setIsHiding(true);\n\n      this._setTransition(true);\n\n      (0, _utils.onCSSTransitionEnd)(this.toastrBoxElement, this._onAnimationComplete);\n    }\n  };\n\n  ToastrBox.prototype._setTransition = function _setTransition(hide) {\n    var _this3 = this;\n\n    var animationType = hide ? this.transitionOut : this.transitionIn;\n\n    var onEndListener = function onEndListener(e) {\n      if (e && e.target == _this3.toastrBoxElement) {\n        _this3.toastrBoxElement.classList.remove(animationType);\n      }\n    };\n\n    (0, _utils.onCSSTransitionEnd)(this.toastrBoxElement, onEndListener);\n    this.toastrBoxElement.classList.add(animationType);\n  };\n\n  ToastrBox.prototype._clearTransition = function _clearTransition() {\n    this.toastrBoxElement.classList.remove(this.transitionIn, this.transitionOut);\n  };\n\n  ToastrBox.prototype._setIntervalId = function _setIntervalId(intervalId) {\n    this.intervalId = intervalId;\n  };\n\n  ToastrBox.prototype._setIsHiding = function _setIsHiding(val) {\n    this.isHiding = val;\n  };\n\n  ToastrBox.prototype._setShouldClose = function _setShouldClose(val) {\n    this.shouldClose = val;\n  };\n\n  ToastrBox.prototype.render = function render() {\n    var _this4 = this;\n\n    var _props$item5 = this.props.item,\n        options = _props$item5.options,\n        type = _props$item5.type;\n    var onToastrClick = options.onToastrClick,\n        closeOnToastrClick = options.closeOnToastrClick;\n    var hasOnToastrClick = !!onToastrClick;\n    var doesCloseOnToastrClick = closeOnToastrClick;\n    var toastrClickAttributes = {};\n\n    if (hasOnToastrClick || doesCloseOnToastrClick) {\n      toastrClickAttributes.role = 'button';\n      toastrClickAttributes.tabIndex = 0;\n      toastrClickAttributes.onClick = this.handleClickToastr;\n      toastrClickAttributes.onKeyPress = this.handlePressEnterOrSpaceKeyToastr;\n    }\n\n    return _react2.default.createElement('div', _extends({\n      ref: function ref(_ref) {\n        return _this4.toastrBoxElement = _ref;\n      },\n      className: (0, _classnames2.default)('toastr', 'animated', 'rrt-' + type, options.className),\n      onMouseEnter: this.mouseEnter,\n      onMouseLeave: this.mouseLeave\n    }, toastrClickAttributes), this.toastr());\n  };\n\n  return ToastrBox;\n}(_react2.default.Component);\n\nToastrBox.displayName = 'ToastrBox';\nToastrBox.propTypes = {\n  item: _propTypes2.default.shape({\n    options: _propTypes2.default.shape({\n      transitionIn: _propTypes2.default.string,\n      transitionOut: _propTypes2.default.string\n    })\n  })\n};\nexports.default = ToastrBox;","map":{"version":3,"sources":["/home/jhonattan/www/java-script/my-money-app/frontend/node_modules/react-redux-toastr/lib/ToastrBox.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_classnames","_classnames2","_ProgressBar","_ProgressBar2","_Icon","_Icon2","_utils","obj","__esModule","default","_defaults","defaults","keys","getOwnPropertyNames","getOwnPropertyDescriptor","configurable","undefined","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","enumerable","writable","setPrototypeOf","ToastrBox","_React$Component","props","_this","handlePressEnterOrSpaceKeyToastr","e","handleClickToastr","_this$props$item$opti","item","options","onToastrClick","closeOnToastrClick","ignoreIsHiding","_setShouldClose","_removeToastr","handleClickCloseButton","onCloseButtonClick","stopPropagation","mouseEnter","clearTimeout","intervalId","_setIntervalId","_setIsHiding","progressBar","timeOut","_getItemTimeOut","setState","mouseLeave","_this$props$item$opti2","removeOnHover","removeOnHoverTimeOut","isHiding","shouldClose","interval","setTimeout","duration","_props$item$options","transitionIn","transitionOut","state","_bind","componentDidMount","inMemory","id","_setTransition","onCSSTransitionEnd","toastrBoxElement","_onAnimationComplete","addToMemory","componentWillUnmount","handlePressEnterOrSpaceKeyCloseButton","renderSubComponent","_this2","_props$item","removeCurrentToastrFunc","remove","isValidElement","component","cloneElement","createElement","renderIcon","_props$item2","type","icon","iconName","name","renderCloseButton","className","onClick","renderToastr","_props$item3","message","title","status","showCloseButton","renderMessage","_props$item4","toastr","_props","onHideComplete","onShowComplete","hide","_this3","animationType","onEndListener","classList","add","_clearTransition","val","render","_this4","_props$item5","hasOnToastrClick","doesCloseOnToastrClick","toastrClickAttributes","role","tabIndex","onKeyPress","ref","_ref","onMouseEnter","onMouseLeave","Component","displayName","propTypes","shape","string"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;;AAIA,IAAIC,QAAQ,GAAGJ,MAAM,CAACK,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,SAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIV,MAAM,CAACY,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,QAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOL,MAAP;AAAgB,CAAhQ;;AAEA,IAAIS,MAAM,GAAGC,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIC,OAAO,GAAGC,sBAAsB,CAACH,MAAD,CAApC;;AAEA,IAAII,UAAU,GAAGH,OAAO,CAAC,YAAD,CAAxB;;AAEA,IAAII,WAAW,GAAGF,sBAAsB,CAACC,UAAD,CAAxC;;AAEA,IAAIE,WAAW,GAAGL,OAAO,CAAC,YAAD,CAAzB;;AAEA,IAAIM,YAAY,GAAGJ,sBAAsB,CAACG,WAAD,CAAzC;;AAEA,IAAIE,YAAY,GAAGP,OAAO,CAAC,eAAD,CAA1B;;AAEA,IAAIQ,aAAa,GAAGN,sBAAsB,CAACK,YAAD,CAA1C;;AAEA,IAAIE,KAAK,GAAGT,OAAO,CAAC,QAAD,CAAnB;;AAEA,IAAIU,MAAM,GAAGR,sBAAsB,CAACO,KAAD,CAAnC;;AAEA,IAAIE,MAAM,GAAGX,OAAO,CAAC,SAAD,CAApB;;AAEA,SAASE,sBAAT,CAAgCU,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD;;AAE/F,SAASG,SAAT,CAAmBH,GAAnB,EAAwBI,QAAxB,EAAkC;AAAE,MAAIC,IAAI,GAAGjC,MAAM,CAACkC,mBAAP,CAA2BF,QAA3B,CAAX;;AAAiD,OAAK,IAAIzB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0B,IAAI,CAACxB,MAAzB,EAAiCF,CAAC,EAAlC,EAAsC;AAAE,QAAII,GAAG,GAAGsB,IAAI,CAAC1B,CAAD,CAAd;AAAmB,QAAIJ,KAAK,GAAGH,MAAM,CAACmC,wBAAP,CAAgCH,QAAhC,EAA0CrB,GAA1C,CAAZ;;AAA4D,QAAIR,KAAK,IAAIA,KAAK,CAACiC,YAAf,IAA+BR,GAAG,CAACjB,GAAD,CAAH,KAAa0B,SAAhD,EAA2D;AAAErC,MAAAA,MAAM,CAACC,cAAP,CAAsB2B,GAAtB,EAA2BjB,GAA3B,EAAgCR,KAAhC;AAAyC;AAAE;;AAAC,SAAOyB,GAAP;AAAa;;AAElU,SAASU,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,0BAAT,CAAoCC,IAApC,EAA0C7B,IAA1C,EAAgD;AAAE,MAAI,CAAC6B,IAAL,EAAW;AAAE,UAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAO9B,IAAI,KAAK,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAAjD,CAAJ,GAAmEA,IAAnE,GAA0E6B,IAAjF;AAAwF;;AAEhP,SAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAIN,SAAJ,CAAc,6DAA6D,OAAOM,UAAlF,CAAN;AAAsG;;AAACD,EAAAA,QAAQ,CAAClC,SAAT,GAAqBZ,MAAM,CAACgD,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACnC,SAAvC,EAAkD;AAAEqC,IAAAA,WAAW,EAAE;AAAE9C,MAAAA,KAAK,EAAE2C,QAAT;AAAmBI,MAAAA,UAAU,EAAE,KAA/B;AAAsCC,MAAAA,QAAQ,EAAE,IAAhD;AAAsDf,MAAAA,YAAY,EAAE;AAApE;AAAf,GAAlD,CAArB;AAAqK,MAAIW,UAAJ,EAAgB/C,MAAM,CAACoD,cAAP,GAAwBpD,MAAM,CAACoD,cAAP,CAAsBN,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsEhB,SAAS,CAACe,QAAD,EAAWC,UAAX,CAA/E;AAAwG,C,CAAC;;;AAG/e,IAAIM,SAAS,GAAG,UAAUC,gBAAV,EAA4B;AAC1CT,EAAAA,SAAS,CAACQ,SAAD,EAAYC,gBAAZ,CAAT;;AAEA,WAASD,SAAT,CAAmBE,KAAnB,EAA0B;AACxBjB,IAAAA,eAAe,CAAC,IAAD,EAAOe,SAAP,CAAf;;AAEA,QAAIG,KAAK,GAAGd,0BAA0B,CAAC,IAAD,EAAOY,gBAAgB,CAACxC,IAAjB,CAAsB,IAAtB,EAA4ByC,KAA5B,CAAP,CAAtC;;AAEAC,IAAAA,KAAK,CAACC,gCAAN,GAAyC,UAAUC,CAAV,EAAa;AACpD,UAAIA,CAAC,CAAC/C,GAAF,KAAU,GAAV,IAAiB+C,CAAC,CAAC/C,GAAF,KAAU,OAA/B,EAAwC;AACtC6C,QAAAA,KAAK,CAACG,iBAAN,CAAwBD,CAAxB;AACD;AACF,KAJD;;AAMAF,IAAAA,KAAK,CAACG,iBAAN,GAA0B,YAAY;AACpC,UAAIC,qBAAqB,GAAGJ,KAAK,CAACD,KAAN,CAAYM,IAAZ,CAAiBC,OAA7C;AAAA,UACIC,aAAa,GAAGH,qBAAqB,CAACG,aAD1C;AAAA,UAEIC,kBAAkB,GAAGJ,qBAAqB,CAACI,kBAF/C;AAIAR,MAAAA,KAAK,CAACS,cAAN,GAAuB,IAAvB;;AAEA,UAAIF,aAAJ,EAAmB;AACjBA,QAAAA,aAAa;AACd;;AAED,UAAIC,kBAAJ,EAAwB;AACtBR,QAAAA,KAAK,CAACU,eAAN,CAAsB,IAAtB;;AACAV,QAAAA,KAAK,CAACW,aAAN;AACD;AACF,KAfD;;AAiBAX,IAAAA,KAAK,CAACY,sBAAN,GAA+B,UAAUV,CAAV,EAAa;AAC1C,UAAIW,kBAAkB,GAAGb,KAAK,CAACD,KAAN,CAAYM,IAAZ,CAAiBC,OAAjB,CAAyBO,kBAAlD;AAEAX,MAAAA,CAAC,CAACY,eAAF;AAEAd,MAAAA,KAAK,CAACS,cAAN,GAAuB,IAAvB;;AAEA,UAAII,kBAAJ,EAAwB;AACtBA,QAAAA,kBAAkB;AACnB;;AAEDb,MAAAA,KAAK,CAACU,eAAN,CAAsB,IAAtB;;AACAV,MAAAA,KAAK,CAACW,aAAN;AACD,KAbD;;AAeAX,IAAAA,KAAK,CAACe,UAAN,GAAmB,YAAY;AAC7BC,MAAAA,YAAY,CAAChB,KAAK,CAACiB,UAAP,CAAZ;;AAEAjB,MAAAA,KAAK,CAACkB,cAAN,CAAqB,IAArB;;AACAlB,MAAAA,KAAK,CAACmB,YAAN,CAAmB,KAAnB;;AAEA,UAAIC,WAAW,GAAGpB,KAAK,CAACD,KAAN,CAAYM,IAAZ,CAAiBC,OAAjB,CAAyBc,WAA3C;;AAEA,UAAIC,OAAO,GAAGrB,KAAK,CAACsB,eAAN,EAAd;;AAEA,UAAID,OAAO,IAAID,WAAf,EAA4B;AAC1BpB,QAAAA,KAAK,CAACuB,QAAN,CAAe;AAAEH,UAAAA,WAAW,EAAE;AAAf,SAAf;AACD;AACF,KAbD;;AAeApB,IAAAA,KAAK,CAACwB,UAAN,GAAmB,YAAY;AAC7B,UAAIC,sBAAsB,GAAGzB,KAAK,CAACD,KAAN,CAAYM,IAAZ,CAAiBC,OAA9C;AAAA,UACIoB,aAAa,GAAGD,sBAAsB,CAACC,aAD3C;AAAA,UAEIC,oBAAoB,GAAGF,sBAAsB,CAACE,oBAFlD;;AAKA,UAAI,CAAC3B,KAAK,CAAC4B,QAAP,KAAoBF,aAAa,IAAI1B,KAAK,CAAC6B,WAA3C,CAAJ,EAA6D;AAC3D,YAAIC,QAAQ,GAAGJ,aAAa,KAAK,IAAlB,GAAyBC,oBAAoB,IAAI,IAAjD,GAAwDD,aAAvE;;AACA1B,QAAAA,KAAK,CAACkB,cAAN,CAAqBa,UAAU,CAAC/B,KAAK,CAACW,aAAP,EAAsBmB,QAAtB,CAA/B;;AAEA,YAAIV,WAAW,GAAGpB,KAAK,CAACD,KAAN,CAAYM,IAAZ,CAAiBC,OAAjB,CAAyBc,WAA3C;;AAEA,YAAIC,OAAO,GAAGrB,KAAK,CAACsB,eAAN,EAAd;;AAEA,YAAID,OAAO,IAAID,WAAf,EAA4B;AAC1BpB,UAAAA,KAAK,CAACuB,QAAN,CAAe;AAAEH,YAAAA,WAAW,EAAE;AAAEY,cAAAA,QAAQ,EAAEF;AAAZ;AAAf,WAAf;AACD;AACF;AACF,KAlBD;;AAoBA,QAAIG,mBAAmB,GAAGlC,KAAK,CAACM,IAAN,CAAWC,OAArC;AAAA,QACI4B,YAAY,GAAGD,mBAAmB,CAACC,YADvC;AAAA,QAEIC,aAAa,GAAGF,mBAAmB,CAACE,aAFxC;AAKAnC,IAAAA,KAAK,CAAC4B,QAAN,GAAiB,KAAjB;AACA5B,IAAAA,KAAK,CAAC6B,WAAN,GAAoB,KAApB;AACA7B,IAAAA,KAAK,CAACiB,UAAN,GAAmB,IAAnB;AACAjB,IAAAA,KAAK,CAACS,cAAN,GAAuB,KAAvB;AAEAT,IAAAA,KAAK,CAACkC,YAAN,GAAqBA,YAAY,IAAIlC,KAAK,CAACD,KAAN,CAAYmC,YAAjD;AACAlC,IAAAA,KAAK,CAACmC,aAAN,GAAsBA,aAAa,IAAInC,KAAK,CAACD,KAAN,CAAYoC,aAAnD;AAEAnC,IAAAA,KAAK,CAACoC,KAAN,GAAc;AAAEhB,MAAAA,WAAW,EAAE;AAAf,KAAd;AAEA,KAAC,GAAGjD,MAAM,CAACkE,KAAX,EAAkB,CAAC,oBAAD,EAAuB,YAAvB,EAAqC,cAArC,EAAqD,mBAArD,EAA0E,eAA1E,EAA2F,sBAA3F,EAAmH,eAAnH,EAAoI,gBAApI,EAAsJ,kBAAtJ,EAA0K,gBAA1K,EAA4L,cAA5L,EAA4M,iBAA5M,CAAlB,EAAkPrC,KAAlP;AACA,WAAOA,KAAP;AACD;;AAEDH,EAAAA,SAAS,CAACzC,SAAV,CAAoBkF,iBAApB,GAAwC,SAASA,iBAAT,GAA6B;AACnE,QAAIjC,IAAI,GAAG,KAAKN,KAAL,CAAWM,IAAtB;AAEA,QAAI,KAAKN,KAAL,CAAWwC,QAAX,CAAoBlC,IAAI,CAACmC,EAAzB,CAAJ,EAAkC;;AAElC,QAAInB,OAAO,GAAG,KAAKC,eAAL,EAAd;;AAEA,QAAID,OAAJ,EAAa;AACX,WAAKH,cAAL,CAAoBa,UAAU,CAAC,KAAKpB,aAAN,EAAqBU,OAArB,CAA9B;AACD;;AAED,QAAIA,OAAO,IAAIhB,IAAI,CAACC,OAAL,CAAac,WAA5B,EAAyC;AACvC,WAAKG,QAAL,CAAc;AAAEH,QAAAA,WAAW,EAAE;AAAEY,UAAAA,QAAQ,EAAE,KAAKV,eAAL;AAAZ;AAAf,OAAd;AACD;;AAED,SAAKmB,cAAL;;AACA,KAAC,GAAGtE,MAAM,CAACuE,kBAAX,EAA+B,KAAKC,gBAApC,EAAsD,KAAKC,oBAA3D;AACA,SAAK7C,KAAL,CAAW8C,WAAX,CAAuBxC,IAAI,CAACmC,EAA5B;AACD,GAlBD;;AAoBA3C,EAAAA,SAAS,CAACzC,SAAV,CAAoB0F,oBAApB,GAA2C,SAASA,oBAAT,GAAgC;AACzE,QAAI,KAAK7B,UAAT,EAAqB;AACnBD,MAAAA,YAAY,CAAC,KAAKC,UAAN,CAAZ;AACD;AACF,GAJD;;AAMApB,EAAAA,SAAS,CAACzC,SAAV,CAAoB2F,qCAApB,GAA4D,SAASA,qCAAT,CAA+C7C,CAA/C,EAAkD;AAC5G,QAAIA,CAAC,CAAC/C,GAAF,KAAU,GAAV,IAAiB+C,CAAC,CAAC/C,GAAF,KAAU,OAA/B,EAAwC;AACtC,WAAKyD,sBAAL,CAA4BV,CAA5B;AACD;AACF,GAJD;;AAMAL,EAAAA,SAAS,CAACzC,SAAV,CAAoB4F,kBAApB,GAAyC,SAASA,kBAAT,GAA8B;AACrE,QAAIC,MAAM,GAAG,IAAb;;AAEA,QAAIC,WAAW,GAAG,KAAKnD,KAAL,CAAWM,IAA7B;AAAA,QACImC,EAAE,GAAGU,WAAW,CAACV,EADrB;AAAA,QAEIlC,OAAO,GAAG4C,WAAW,CAAC5C,OAF1B;;AAKA,QAAI6C,uBAAuB,GAAG,SAASA,uBAAT,GAAmC;AAC/D,aAAOF,MAAM,CAAClD,KAAP,CAAaqD,MAAb,CAAoBZ,EAApB,CAAP;AACD,KAFD;;AAIA,QAAI,CAAC,GAAGjF,MAAM,CAAC8F,cAAX,EAA2B/C,OAAO,CAACgD,SAAnC,CAAJ,EAAmD;AACjD,aAAO7F,OAAO,CAACa,OAAR,CAAgBiF,YAAhB,CAA6BjD,OAAO,CAACgD,SAArC,EAAgD;AACrDF,QAAAA,MAAM,EAAED;AAD6C,OAAhD,CAAP;AAGD;;AAED,WAAO1F,OAAO,CAACa,OAAR,CAAgBkF,aAAhB,CAA8BlD,OAAO,CAACgD,SAAtC,EAAiD;AAAEF,MAAAA,MAAM,EAAED;AAAV,KAAjD,CAAP;AACD,GAnBD;;AAqBAtD,EAAAA,SAAS,CAACzC,SAAV,CAAoBqG,UAApB,GAAiC,SAASA,UAAT,GAAsB;AACrD,QAAIC,YAAY,GAAG,KAAK3D,KAAL,CAAWM,IAA9B;AAAA,QACIsD,IAAI,GAAGD,YAAY,CAACC,IADxB;AAAA,QAEIrD,OAAO,GAAGoD,YAAY,CAACpD,OAF3B;;AAKA,QAAI,CAAC,GAAG/C,MAAM,CAAC8F,cAAX,EAA2B/C,OAAO,CAACsD,IAAnC,CAAJ,EAA8C;AAC5C,aAAOnG,OAAO,CAACa,OAAR,CAAgBiF,YAAhB,CAA6BjD,OAAO,CAACsD,IAArC,CAAP;AACD;;AAED,QAAIC,QAAQ,GAAGF,IAAI,KAAK,OAAT,GAAmBrD,OAAO,CAACsD,IAA3B,GAAkCD,IAAjD;AACA,WAAOlG,OAAO,CAACa,OAAR,CAAgBkF,aAAhB,CAA8BtF,MAAM,CAACI,OAArC,EAA8C;AAAEwF,MAAAA,IAAI,EAAED;AAAR,KAA9C,CAAP;AACD,GAZD;;AAcAhE,EAAAA,SAAS,CAACzC,SAAV,CAAoB2G,iBAApB,GAAwC,SAASA,iBAAT,GAA6B;AACnE,WAAOtG,OAAO,CAACa,OAAR,CAAgBkF,aAAhB,CACL,QADK,EAEL;AACEG,MAAAA,IAAI,EAAE,QADR;AAEEK,MAAAA,SAAS,EAAE,cAFb;AAGEC,MAAAA,OAAO,EAAE,KAAKrD;AAHhB,KAFK,EAOL,QAPK,CAAP;AASD,GAVD;;AAYAf,EAAAA,SAAS,CAACzC,SAAV,CAAoB8G,YAApB,GAAmC,SAASA,YAAT,GAAwB;AACzD,QAAIC,YAAY,GAAG,KAAKpE,KAAL,CAAWM,IAA9B;AAAA,QACIsD,IAAI,GAAGQ,YAAY,CAACR,IADxB;AAAA,QAEIrD,OAAO,GAAG6D,YAAY,CAAC7D,OAF3B;AAAA,QAGI8D,OAAO,GAAGD,YAAY,CAACC,OAH3B;AAAA,QAIIC,KAAK,GAAGF,YAAY,CAACE,KAJzB;AAOA,WAAO5G,OAAO,CAACa,OAAR,CAAgBkF,aAAhB,CACL,KADK,EAEL,IAFK,EAGL/F,OAAO,CAACa,OAAR,CAAgBkF,aAAhB,CACE,KADF,EAEE;AAAEQ,MAAAA,SAAS,EAAE;AAAb,KAFF,EAGEvG,OAAO,CAACa,OAAR,CAAgBkF,aAAhB,CACE,KADF,EAEE;AAAEQ,MAAAA,SAAS,EAAE;AAAb,KAFF,EAGE,KAAKP,UAAL,EAHF,CAHF,CAHK,EAYLnD,OAAO,CAACgE,MAAR,IAAkBX,IAAI,KAAK,OAA3B,IAAsClG,OAAO,CAACa,OAAR,CAAgBkF,aAAhB,CAA8B,KAA9B,EAAqC;AAAEQ,MAAAA,SAAS,EAAE,CAAC,GAAGlG,YAAY,CAACQ,OAAjB,EAA0B,eAA1B,EAA2CgC,OAAO,CAACgE,MAAnD;AAAb,KAArC,CAZjC,EAaL7G,OAAO,CAACa,OAAR,CAAgBkF,aAAhB,CACE,KADF,EAEE;AAAEQ,MAAAA,SAAS,EAAE;AAAb,KAFF,EAGEK,KAAK,IAAI5G,OAAO,CAACa,OAAR,CAAgBkF,aAAhB,CACP,KADO,EAEP;AAAEQ,MAAAA,SAAS,EAAE;AAAb,KAFO,EAGPK,KAHO,CAHX,EAQED,OAAO,IAAI3G,OAAO,CAACa,OAAR,CAAgBkF,aAAhB,CACT,KADS,EAET;AAAEQ,MAAAA,SAAS,EAAE;AAAb,KAFS,EAGTI,OAHS,CARb,EAaE9D,OAAO,CAACgD,SAAR,IAAqB,KAAKN,kBAAL,EAbvB,CAbK,EA4BLvF,OAAO,CAACa,OAAR,CAAgBkF,aAAhB,CACE,KADF,EAEE;AAAEQ,MAAAA,SAAS,EAAE;AAAb,KAFF,EAGE1D,OAAO,CAACiE,eAAR,IAA2B,KAAKR,iBAAL,EAH7B,CA5BK,EAiCL,KAAK3B,KAAL,CAAWhB,WAAX,GAAyB3D,OAAO,CAACa,OAAR,CAAgBkF,aAAhB,CAA8BxF,aAAa,CAACM,OAA5C,EAAqD,KAAK8D,KAAL,CAAWhB,WAAhE,CAAzB,GAAwG,IAjCnG,CAAP;AAmCD,GA3CD;;AA6CAvB,EAAAA,SAAS,CAACzC,SAAV,CAAoBoH,aAApB,GAAoC,SAASA,aAAT,GAAyB;AAC3D,QAAIC,YAAY,GAAG,KAAK1E,KAAL,CAAWM,IAA9B;AAAA,QACIgE,KAAK,GAAGI,YAAY,CAACJ,KADzB;AAAA,QAEID,OAAO,GAAGK,YAAY,CAACL,OAF3B;AAAA,QAGI9D,OAAO,GAAGmE,YAAY,CAACnE,OAH3B;AAMA,WAAO7C,OAAO,CAACa,OAAR,CAAgBkF,aAAhB,CACL,KADK,EAEL,IAFK,EAGL/F,OAAO,CAACa,OAAR,CAAgBkF,aAAhB,CACE,KADF,EAEE;AAAEQ,MAAAA,SAAS,EAAE;AAAb,KAFF,EAGEK,KAHF,EAIE,KAAKN,iBAAL,EAJF,CAHK,EASLtG,OAAO,CAACa,OAAR,CAAgBkF,aAAhB,CACE,KADF,EAEE;AAAEQ,MAAAA,SAAS,EAAE;AAAb,KAFF,EAGEI,OAHF,EAIE9D,OAAO,CAACgD,SAAR,IAAqB,KAAKN,kBAAL,EAJvB,CATK,CAAP;AAgBD,GAvBD;;AAyBAnD,EAAAA,SAAS,CAACzC,SAAV,CAAoBsH,MAApB,GAA6B,SAASA,MAAT,GAAkB;AAC7C,QAAI,KAAK3E,KAAL,CAAWM,IAAX,CAAgBsD,IAAhB,KAAyB,SAA7B,EAAwC;AACtC,aAAO,KAAKa,aAAL,EAAP;AACD;;AAED,WAAO,KAAKN,YAAL,EAAP;AACD,GAND;;AAQArE,EAAAA,SAAS,CAACzC,SAAV,CAAoBkE,eAApB,GAAsC,SAASA,eAAT,GAA2B;AAC/D,QAAIjB,IAAI,GAAG,KAAKN,KAAL,CAAWM,IAAtB;AACA,QAAIgB,OAAO,GAAGhB,IAAI,CAACC,OAAL,CAAae,OAA3B;;AAEA,QAAI,OAAOA,OAAP,KAAmB,WAAvB,EAAoC;AAClCA,MAAAA,OAAO,GAAG,KAAKtB,KAAL,CAAWsB,OAArB;AACD;;AAED,WAAOA,OAAP;AACD,GATD;;AAWAxB,EAAAA,SAAS,CAACzC,SAAV,CAAoBwF,oBAApB,GAA2C,SAASA,oBAAT,GAAgC;AACzE,QAAI+B,MAAM,GAAG,KAAK5E,KAAlB;AAAA,QACIqD,MAAM,GAAGuB,MAAM,CAACvB,MADpB;AAAA,QAEI/C,IAAI,GAAGsE,MAAM,CAACtE,IAFlB;AAGA,QAAIC,OAAO,GAAGD,IAAI,CAACC,OAAnB;AAAA,QACIkC,EAAE,GAAGnC,IAAI,CAACmC,EADd;;AAIA,QAAI,KAAKZ,QAAL,IAAiB,KAAKnB,cAA1B,EAA0C;AACxC,WAAKU,YAAL,CAAkB,KAAlB;;AACA,WAAKV,cAAL,GAAsB,KAAtB;AACA2C,MAAAA,MAAM,CAACZ,EAAD,CAAN;;AACA,UAAIlC,OAAO,CAACsE,cAAZ,EAA4B;AAC1BtE,QAAAA,OAAO,CAACsE,cAAR;AACD;AACF,KAPD,MAOO,IAAI,CAAC,KAAKhD,QAAN,IAAkBtB,OAAO,CAACuE,cAA9B,EAA8C;AACnDvE,MAAAA,OAAO,CAACuE,cAAR;AACD;AACF,GAlBD;;AAoBAhF,EAAAA,SAAS,CAACzC,SAAV,CAAoBuD,aAApB,GAAoC,SAASA,aAAT,GAAyB;AAC3D,QAAI,CAAC,KAAKiB,QAAV,EAAoB;AAClB,WAAKT,YAAL,CAAkB,IAAlB;;AACA,WAAKsB,cAAL,CAAoB,IAApB;;AACA,OAAC,GAAGtE,MAAM,CAACuE,kBAAX,EAA+B,KAAKC,gBAApC,EAAsD,KAAKC,oBAA3D;AACD;AACF,GAND;;AAQA/C,EAAAA,SAAS,CAACzC,SAAV,CAAoBqF,cAApB,GAAqC,SAASA,cAAT,CAAwBqC,IAAxB,EAA8B;AACjE,QAAIC,MAAM,GAAG,IAAb;;AAEA,QAAIC,aAAa,GAAGF,IAAI,GAAG,KAAK3C,aAAR,GAAwB,KAAKD,YAArD;;AAEA,QAAI+C,aAAa,GAAG,SAASA,aAAT,CAAuB/E,CAAvB,EAA0B;AAC5C,UAAIA,CAAC,IAAIA,CAAC,CAACpD,MAAF,IAAYiI,MAAM,CAACpC,gBAA5B,EAA8C;AAC5CoC,QAAAA,MAAM,CAACpC,gBAAP,CAAwBuC,SAAxB,CAAkC9B,MAAlC,CAAyC4B,aAAzC;AACD;AACF,KAJD;;AAMA,KAAC,GAAG7G,MAAM,CAACuE,kBAAX,EAA+B,KAAKC,gBAApC,EAAsDsC,aAAtD;AACA,SAAKtC,gBAAL,CAAsBuC,SAAtB,CAAgCC,GAAhC,CAAoCH,aAApC;AACD,GAbD;;AAeAnF,EAAAA,SAAS,CAACzC,SAAV,CAAoBgI,gBAApB,GAAuC,SAASA,gBAAT,GAA4B;AACjE,SAAKzC,gBAAL,CAAsBuC,SAAtB,CAAgC9B,MAAhC,CAAuC,KAAKlB,YAA5C,EAA0D,KAAKC,aAA/D;AACD,GAFD;;AAIAtC,EAAAA,SAAS,CAACzC,SAAV,CAAoB8D,cAApB,GAAqC,SAASA,cAAT,CAAwBD,UAAxB,EAAoC;AACvE,SAAKA,UAAL,GAAkBA,UAAlB;AACD,GAFD;;AAIApB,EAAAA,SAAS,CAACzC,SAAV,CAAoB+D,YAApB,GAAmC,SAASA,YAAT,CAAsBkE,GAAtB,EAA2B;AAC5D,SAAKzD,QAAL,GAAgByD,GAAhB;AACD,GAFD;;AAIAxF,EAAAA,SAAS,CAACzC,SAAV,CAAoBsD,eAApB,GAAsC,SAASA,eAAT,CAAyB2E,GAAzB,EAA8B;AAClE,SAAKxD,WAAL,GAAmBwD,GAAnB;AACD,GAFD;;AAIAxF,EAAAA,SAAS,CAACzC,SAAV,CAAoBkI,MAApB,GAA6B,SAASA,MAAT,GAAkB;AAC7C,QAAIC,MAAM,GAAG,IAAb;;AAEA,QAAIC,YAAY,GAAG,KAAKzF,KAAL,CAAWM,IAA9B;AAAA,QACIC,OAAO,GAAGkF,YAAY,CAAClF,OAD3B;AAAA,QAEIqD,IAAI,GAAG6B,YAAY,CAAC7B,IAFxB;AAGA,QAAIpD,aAAa,GAAGD,OAAO,CAACC,aAA5B;AAAA,QACIC,kBAAkB,GAAGF,OAAO,CAACE,kBADjC;AAGA,QAAIiF,gBAAgB,GAAG,CAAC,CAAClF,aAAzB;AACA,QAAImF,sBAAsB,GAAGlF,kBAA7B;AAEA,QAAImF,qBAAqB,GAAG,EAA5B;;AACA,QAAIF,gBAAgB,IAAIC,sBAAxB,EAAgD;AAC9CC,MAAAA,qBAAqB,CAACC,IAAtB,GAA6B,QAA7B;AACAD,MAAAA,qBAAqB,CAACE,QAAtB,GAAiC,CAAjC;AACAF,MAAAA,qBAAqB,CAAC1B,OAAtB,GAAgC,KAAK9D,iBAArC;AACAwF,MAAAA,qBAAqB,CAACG,UAAtB,GAAmC,KAAK7F,gCAAxC;AACD;;AAED,WAAOxC,OAAO,CAACa,OAAR,CAAgBkF,aAAhB,CACL,KADK,EAEL5G,QAAQ,CAAC;AACPmJ,MAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,IAAb,EAAmB;AACtB,eAAOT,MAAM,CAAC5C,gBAAP,GAA0BqD,IAAjC;AACD,OAHM;AAIPhC,MAAAA,SAAS,EAAE,CAAC,GAAGlG,YAAY,CAACQ,OAAjB,EAA0B,QAA1B,EAAoC,UAApC,EAAgD,SAASqF,IAAzD,EAA+DrD,OAAO,CAAC0D,SAAvE,CAJJ;AAMPiC,MAAAA,YAAY,EAAE,KAAKlF,UANZ;AAOPmF,MAAAA,YAAY,EAAE,KAAK1E;AAPZ,KAAD,EAQLmE,qBARK,CAFH,EAWL,KAAKjB,MAAL,EAXK,CAAP;AAaD,GAjCD;;AAmCA,SAAO7E,SAAP;AACD,CA3We,CA2WdpC,OAAO,CAACa,OAAR,CAAgB6H,SA3WF,CAAhB;;AA6WAtG,SAAS,CAACuG,WAAV,GAAwB,WAAxB;AACAvG,SAAS,CAACwG,SAAV,GAAsB;AACpBhG,EAAAA,IAAI,EAAEzC,WAAW,CAACU,OAAZ,CAAoBgI,KAApB,CAA0B;AAC9BhG,IAAAA,OAAO,EAAE1C,WAAW,CAACU,OAAZ,CAAoBgI,KAApB,CAA0B;AACjCpE,MAAAA,YAAY,EAAEtE,WAAW,CAACU,OAAZ,CAAoBiI,MADD;AAEjCpE,MAAAA,aAAa,EAAEvE,WAAW,CAACU,OAAZ,CAAoBiI;AAFF,KAA1B;AADqB,GAA1B;AADc,CAAtB;AAQA7J,OAAO,CAAC4B,OAAR,GAAkBuB,SAAlB","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _ProgressBar = require('./ProgressBar');\n\nvar _ProgressBar2 = _interopRequireDefault(_ProgressBar);\n\nvar _Icon = require('./Icon');\n\nvar _Icon2 = _interopRequireDefault(_Icon);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); } //  eslint-disable-line no-unused-vars\n\n\nvar ToastrBox = function (_React$Component) {\n  _inherits(ToastrBox, _React$Component);\n\n  function ToastrBox(props) {\n    _classCallCheck(this, ToastrBox);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _this.handlePressEnterOrSpaceKeyToastr = function (e) {\n      if (e.key === ' ' || e.key === 'enter') {\n        _this.handleClickToastr(e);\n      }\n    };\n\n    _this.handleClickToastr = function () {\n      var _this$props$item$opti = _this.props.item.options,\n          onToastrClick = _this$props$item$opti.onToastrClick,\n          closeOnToastrClick = _this$props$item$opti.closeOnToastrClick;\n\n      _this.ignoreIsHiding = true;\n\n      if (onToastrClick) {\n        onToastrClick();\n      }\n\n      if (closeOnToastrClick) {\n        _this._setShouldClose(true);\n        _this._removeToastr();\n      }\n    };\n\n    _this.handleClickCloseButton = function (e) {\n      var onCloseButtonClick = _this.props.item.options.onCloseButtonClick;\n\n      e.stopPropagation();\n\n      _this.ignoreIsHiding = true;\n\n      if (onCloseButtonClick) {\n        onCloseButtonClick();\n      }\n\n      _this._setShouldClose(true);\n      _this._removeToastr();\n    };\n\n    _this.mouseEnter = function () {\n      clearTimeout(_this.intervalId);\n\n      _this._setIntervalId(null);\n      _this._setIsHiding(false);\n\n      var progressBar = _this.props.item.options.progressBar;\n\n      var timeOut = _this._getItemTimeOut();\n\n      if (timeOut && progressBar) {\n        _this.setState({ progressBar: null });\n      }\n    };\n\n    _this.mouseLeave = function () {\n      var _this$props$item$opti2 = _this.props.item.options,\n          removeOnHover = _this$props$item$opti2.removeOnHover,\n          removeOnHoverTimeOut = _this$props$item$opti2.removeOnHoverTimeOut;\n\n\n      if (!_this.isHiding && (removeOnHover || _this.shouldClose)) {\n        var interval = removeOnHover === true ? removeOnHoverTimeOut || 1000 : removeOnHover;\n        _this._setIntervalId(setTimeout(_this._removeToastr, interval));\n\n        var progressBar = _this.props.item.options.progressBar;\n\n        var timeOut = _this._getItemTimeOut();\n\n        if (timeOut && progressBar) {\n          _this.setState({ progressBar: { duration: interval } });\n        }\n      }\n    };\n\n    var _props$item$options = props.item.options,\n        transitionIn = _props$item$options.transitionIn,\n        transitionOut = _props$item$options.transitionOut;\n\n\n    _this.isHiding = false;\n    _this.shouldClose = false;\n    _this.intervalId = null;\n    _this.ignoreIsHiding = false;\n\n    _this.transitionIn = transitionIn || _this.props.transitionIn;\n    _this.transitionOut = transitionOut || _this.props.transitionOut;\n\n    _this.state = { progressBar: null };\n\n    (0, _utils._bind)(['renderSubComponent', 'renderIcon', 'renderToastr', 'renderCloseButton', 'renderMessage', '_onAnimationComplete', '_removeToastr', '_setTransition', '_clearTransition', '_setIntervalId', '_setIsHiding', '_setShouldClose'], _this);\n    return _this;\n  }\n\n  ToastrBox.prototype.componentDidMount = function componentDidMount() {\n    var item = this.props.item;\n\n    if (this.props.inMemory[item.id]) return;\n\n    var timeOut = this._getItemTimeOut();\n\n    if (timeOut) {\n      this._setIntervalId(setTimeout(this._removeToastr, timeOut));\n    }\n\n    if (timeOut && item.options.progressBar) {\n      this.setState({ progressBar: { duration: this._getItemTimeOut() } });\n    }\n\n    this._setTransition();\n    (0, _utils.onCSSTransitionEnd)(this.toastrBoxElement, this._onAnimationComplete);\n    this.props.addToMemory(item.id);\n  };\n\n  ToastrBox.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.intervalId) {\n      clearTimeout(this.intervalId);\n    }\n  };\n\n  ToastrBox.prototype.handlePressEnterOrSpaceKeyCloseButton = function handlePressEnterOrSpaceKeyCloseButton(e) {\n    if (e.key === ' ' || e.key === 'enter') {\n      this.handleClickCloseButton(e);\n    }\n  };\n\n  ToastrBox.prototype.renderSubComponent = function renderSubComponent() {\n    var _this2 = this;\n\n    var _props$item = this.props.item,\n        id = _props$item.id,\n        options = _props$item.options;\n\n\n    var removeCurrentToastrFunc = function removeCurrentToastrFunc() {\n      return _this2.props.remove(id);\n    };\n\n    if ((0, _react.isValidElement)(options.component)) {\n      return _react2.default.cloneElement(options.component, {\n        remove: removeCurrentToastrFunc\n      });\n    }\n\n    return _react2.default.createElement(options.component, { remove: removeCurrentToastrFunc });\n  };\n\n  ToastrBox.prototype.renderIcon = function renderIcon() {\n    var _props$item2 = this.props.item,\n        type = _props$item2.type,\n        options = _props$item2.options;\n\n\n    if ((0, _react.isValidElement)(options.icon)) {\n      return _react2.default.cloneElement(options.icon);\n    }\n\n    var iconName = type === 'light' ? options.icon : type;\n    return _react2.default.createElement(_Icon2.default, { name: iconName });\n  };\n\n  ToastrBox.prototype.renderCloseButton = function renderCloseButton() {\n    return _react2.default.createElement(\n      'button',\n      {\n        type: 'button',\n        className: 'close-toastr',\n        onClick: this.handleClickCloseButton\n      },\n      '\\u2715'\n    );\n  };\n\n  ToastrBox.prototype.renderToastr = function renderToastr() {\n    var _props$item3 = this.props.item,\n        type = _props$item3.type,\n        options = _props$item3.options,\n        message = _props$item3.message,\n        title = _props$item3.title;\n\n\n    return _react2.default.createElement(\n      'div',\n      null,\n      _react2.default.createElement(\n        'div',\n        { className: 'rrt-left-container' },\n        _react2.default.createElement(\n          'div',\n          { className: 'rrt-holder' },\n          this.renderIcon()\n        )\n      ),\n      options.status && type === 'light' && _react2.default.createElement('div', { className: (0, _classnames2.default)('toastr-status', options.status) }),\n      _react2.default.createElement(\n        'div',\n        { className: 'rrt-middle-container' },\n        title && _react2.default.createElement(\n          'div',\n          { className: 'rrt-title' },\n          title\n        ),\n        message && _react2.default.createElement(\n          'div',\n          { className: 'rrt-text' },\n          message\n        ),\n        options.component && this.renderSubComponent()\n      ),\n      _react2.default.createElement(\n        'div',\n        { className: 'rrt-right-container' },\n        options.showCloseButton && this.renderCloseButton()\n      ),\n      this.state.progressBar ? _react2.default.createElement(_ProgressBar2.default, this.state.progressBar) : null\n    );\n  };\n\n  ToastrBox.prototype.renderMessage = function renderMessage() {\n    var _props$item4 = this.props.item,\n        title = _props$item4.title,\n        message = _props$item4.message,\n        options = _props$item4.options;\n\n\n    return _react2.default.createElement(\n      'div',\n      null,\n      _react2.default.createElement(\n        'div',\n        { className: 'rrt-title' },\n        title,\n        this.renderCloseButton()\n      ),\n      _react2.default.createElement(\n        'div',\n        { className: 'rrt-text' },\n        message,\n        options.component && this.renderSubComponent()\n      )\n    );\n  };\n\n  ToastrBox.prototype.toastr = function toastr() {\n    if (this.props.item.type === 'message') {\n      return this.renderMessage();\n    }\n\n    return this.renderToastr();\n  };\n\n  ToastrBox.prototype._getItemTimeOut = function _getItemTimeOut() {\n    var item = this.props.item;\n    var timeOut = item.options.timeOut;\n\n    if (typeof timeOut === 'undefined') {\n      timeOut = this.props.timeOut;\n    }\n\n    return timeOut;\n  };\n\n  ToastrBox.prototype._onAnimationComplete = function _onAnimationComplete() {\n    var _props = this.props,\n        remove = _props.remove,\n        item = _props.item;\n    var options = item.options,\n        id = item.id;\n\n\n    if (this.isHiding || this.ignoreIsHiding) {\n      this._setIsHiding(false);\n      this.ignoreIsHiding = false;\n      remove(id);\n      if (options.onHideComplete) {\n        options.onHideComplete();\n      }\n    } else if (!this.isHiding && options.onShowComplete) {\n      options.onShowComplete();\n    }\n  };\n\n  ToastrBox.prototype._removeToastr = function _removeToastr() {\n    if (!this.isHiding) {\n      this._setIsHiding(true);\n      this._setTransition(true);\n      (0, _utils.onCSSTransitionEnd)(this.toastrBoxElement, this._onAnimationComplete);\n    }\n  };\n\n  ToastrBox.prototype._setTransition = function _setTransition(hide) {\n    var _this3 = this;\n\n    var animationType = hide ? this.transitionOut : this.transitionIn;\n\n    var onEndListener = function onEndListener(e) {\n      if (e && e.target == _this3.toastrBoxElement) {\n        _this3.toastrBoxElement.classList.remove(animationType);\n      }\n    };\n\n    (0, _utils.onCSSTransitionEnd)(this.toastrBoxElement, onEndListener);\n    this.toastrBoxElement.classList.add(animationType);\n  };\n\n  ToastrBox.prototype._clearTransition = function _clearTransition() {\n    this.toastrBoxElement.classList.remove(this.transitionIn, this.transitionOut);\n  };\n\n  ToastrBox.prototype._setIntervalId = function _setIntervalId(intervalId) {\n    this.intervalId = intervalId;\n  };\n\n  ToastrBox.prototype._setIsHiding = function _setIsHiding(val) {\n    this.isHiding = val;\n  };\n\n  ToastrBox.prototype._setShouldClose = function _setShouldClose(val) {\n    this.shouldClose = val;\n  };\n\n  ToastrBox.prototype.render = function render() {\n    var _this4 = this;\n\n    var _props$item5 = this.props.item,\n        options = _props$item5.options,\n        type = _props$item5.type;\n    var onToastrClick = options.onToastrClick,\n        closeOnToastrClick = options.closeOnToastrClick;\n\n    var hasOnToastrClick = !!onToastrClick;\n    var doesCloseOnToastrClick = closeOnToastrClick;\n\n    var toastrClickAttributes = {};\n    if (hasOnToastrClick || doesCloseOnToastrClick) {\n      toastrClickAttributes.role = 'button';\n      toastrClickAttributes.tabIndex = 0;\n      toastrClickAttributes.onClick = this.handleClickToastr;\n      toastrClickAttributes.onKeyPress = this.handlePressEnterOrSpaceKeyToastr;\n    }\n\n    return _react2.default.createElement(\n      'div',\n      _extends({\n        ref: function ref(_ref) {\n          return _this4.toastrBoxElement = _ref;\n        },\n        className: (0, _classnames2.default)('toastr', 'animated', 'rrt-' + type, options.className),\n\n        onMouseEnter: this.mouseEnter,\n        onMouseLeave: this.mouseLeave\n      }, toastrClickAttributes),\n      this.toastr()\n    );\n  };\n\n  return ToastrBox;\n}(_react2.default.Component);\n\nToastrBox.displayName = 'ToastrBox';\nToastrBox.propTypes = {\n  item: _propTypes2.default.shape({\n    options: _propTypes2.default.shape({\n      transitionIn: _propTypes2.default.string,\n      transitionOut: _propTypes2.default.string\n    })\n  })\n};\nexports.default = ToastrBox;"]},"metadata":{},"sourceType":"script"}