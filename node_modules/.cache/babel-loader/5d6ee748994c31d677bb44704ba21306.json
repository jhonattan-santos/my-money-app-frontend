{"ast":null,"code":"const userKey = '_mymoney_user';\nconst INITIAL_STATE = {\n  user: JSON.parse(localStorage.getItem(userKey)),\n  validToken: false\n};\nexport default ((state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case 'TOKEN_VALIDATED':\n      if (action.payload) {\n        return { ...state,\n          validToken\n        };\n      } else {\n        localStorage.removeItem(userKey);\n        return { ...state,\n          validToken: false,\n          user: null\n        };\n      }\n\n    case 'USER_FATCHED':\n      localStorage.setItem(userKey, JSON.stringify(action.payload));\n      return { ...state,\n        user: action.payload,\n        validToken: true\n      };\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/home/jhonattan/www/java-script/my-money-app/frontend/src/auth/authReducer.js"],"names":["userKey","INITIAL_STATE","user","JSON","parse","localStorage","getItem","validToken","state","action","type","payload","removeItem","setItem","stringify"],"mappings":"AAAA,MAAMA,OAAO,GAAG,eAAhB;AACA,MAAMC,aAAa,GAAG;AAClBC,EAAAA,IAAI,EAAEC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBN,OAArB,CAAX,CADY;AAElBO,EAAAA,UAAU,EAAE;AAFM,CAAtB;AAKA,gBAAe,CAAEC,KAAK,GAAGP,aAAV,EAAyBQ,MAAzB,KAAoC;AAC/C,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,iBAAL;AACI,UAAID,MAAM,CAACE,OAAX,EAAoB;AAChB,eAAO,EAAE,GAAGH,KAAL;AAAYD,UAAAA;AAAZ,SAAP;AACH,OAFD,MAEO;AACHF,QAAAA,YAAY,CAACO,UAAb,CAAwBZ,OAAxB;AACA,eAAO,EAAE,GAAGQ,KAAL;AAAYD,UAAAA,UAAU,EAAE,KAAxB;AAA+BL,UAAAA,IAAI,EAAE;AAArC,SAAP;AACH;;AACL,SAAK,cAAL;AACIG,MAAAA,YAAY,CAACQ,OAAb,CAAqBb,OAArB,EAA8BG,IAAI,CAACW,SAAL,CAAeL,MAAM,CAACE,OAAtB,CAA9B;AACA,aAAO,EAAE,GAAGH,KAAL;AAAYN,QAAAA,IAAI,EAAEO,MAAM,CAACE,OAAzB;AAAkCJ,QAAAA,UAAU,EAAE;AAA9C,OAAP;;AACJ;AACI,aAAOC,KAAP;AAZR;AAcH,CAfD","sourcesContent":["const userKey = '_mymoney_user'\nconst INITIAL_STATE = {\n    user: JSON.parse(localStorage.getItem(userKey)),\n    validToken: false\n}\n\nexport default ( state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case 'TOKEN_VALIDATED':\n            if (action.payload) {\n                return { ...state, validToken }\n            } else {\n                localStorage.removeItem(userKey)\n                return { ...state, validToken: false, user: null }\n            }\n        case 'USER_FATCHED':\n            localStorage.setItem(userKey, JSON.stringify(action.payload))\n            return { ...state, user: action.payload, validToken: true}\n        default:\n            return state\n    }\n}"]},"metadata":{},"sourceType":"module"}